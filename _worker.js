const E=d;(function(e,f){const C=d,g=e();while(!![]){try{const h=-parseInt(C(0x17f))/0x1*(parseInt(C(0x15b))/0x2)+-parseInt(C(0x125))/0x3*(parseInt(C(0x16d))/0x4)+parseInt(C(0x191))/0x5*(parseInt(C(0x151))/0x6)+-parseInt(C(0x122))/0x7+-parseInt(C(0x164))/0x8+parseInt(C(0x14e))/0x9*(-parseInt(C(0x131))/0xa)+-parseInt(C(0x172))/0xb*(-parseInt(C(0x13f))/0xc);if(h===f)break;else g['push'](g['shift']());}catch(i){g['push'](g['shift']());}}}(c,0x362d0));const b=(function(){let e=!![];return function(f,g){const h=e?function(){if(g){const i=g['apply'](f,arguments);return g=null,i;}}:function(){};return e=![],h;};}()),a=b(this,function(){const D=d;return a[D(0x194)]()[D(0x189)](D(0x11e))[D(0x194)]()[D(0x192)](a)['search'](D(0x11e));});a();import{connect}from'cloudflare:sockets';const authToken=E(0x140);let fallbackAddress='',fallbackPort='43';const socks5Config='',manualWorkerRegion='',customPath='',githubPreferredURL=E(0x13d),enableGitHubPreferred=!![],enableOtherPreferred=!![],apiBaseUrl=E(0x130),directDomains=[{'name':E(0x124),'domain':E(0x124)},{'name':E(0x17e),'domain':E(0x17e)},{'domain':E(0x135)},{'domain':E(0x11a)},{'domain':E(0x162)},{'domain':E(0x121)},{'domain':E(0x127)},{'domain':E(0x145)},{'domain':E(0x129)},{'domain':E(0x169)},{'domain':E(0x17a)},{'domain':E(0x155)},{'domain':E(0x12b)},{'domain':E(0x13a)},{'domain':E(0x14d)},{'domain':E(0x17b)},{'domain':E(0x12a)},{'domain':E(0x13c)},{'domain':E(0x13e)},{'domain':E(0x187)},{'domain':E(0x128)}],parsedSocks5Config={},isSocksEnabled=![];let enableRegionMatching=!![],currentWorkerRegion='';const backupIPs=[{'domain':E(0x181),'region':'US','regionCode':'US','port':0x1bb},{'domain':E(0x181),'region':'SG','regionCode':'SG','port':0x1bb},{'domain':'tw.x9527.xyz','region':'JP','regionCode':'JP','port':0x1bb},{'domain':E(0x181),'region':'HK','regionCode':'HK','port':0x1bb},{'domain':'tw.x9527.xyz','region':'KR','regionCode':'KR','port':0x1bb},{'domain':'tw.x9527.xyz','region':'DE','regionCode':'DE','port':0x1bb},{'domain':E(0x181),'region':'SE','regionCode':'SE','port':0x1bb},{'domain':E(0x181),'region':'NL','regionCode':'NL','port':0x1bb},{'domain':'tw.x9527.xyz','region':'FI','regionCode':'FI','port':0x1bb},{'domain':E(0x181),'region':'GB','regionCode':'GB','port':0x1bb}],E_INVALID_DATA=atob(E(0x161)),E_INVALID_USER=atob('aW52YWxpZCB1c2Vy'),E_UNSUPPORTED_CMD=atob('Y29tbWFuZCBpcyBub3Qgc3VwcG9ydGVk'),E_UDP_DNS_ONLY=atob(E(0x178)),E_INVALID_ADDR_TYPE=atob(E(0x190)),E_EMPTY_ADDR=atob('YWRkcmVzc1ZhbHVlIGlzIGVtcHR5'),E_WS_NOT_OPEN=atob(E(0x163)),E_INVALID_ID_STR=atob(E(0x153)),E_INVALID_SOCKS_ADDR=atob('SW52YWxpZCBTT0NLUyBhZGRyZXNzIGZvcm1hdA=='),E_SOCKS_NO_METHOD=atob(E(0x136)),E_SOCKS_AUTH_NEEDED=atob(E(0x183)),E_SOCKS_AUTH_FAIL=atob('ZmFpbCB0byBhdXRoIHNvY2tzIHNlcnZlcg=='),E_SOCKS_CONN_FAIL=atob(E(0x12e)),ADDRESS_TYPE_IPV4=0x1,ADDRESS_TYPE_URL=0x2,ADDRESS_TYPE_IPV6=0x3;async function detectWorkerRegion(e){const F=E;try{const f=e['cf']?.[F(0x15d)];if(f){const g={'US':'US','SG':'SG','JP':'JP','HK':'HK','KR':'KR','DE':'DE','SE':'SE','NL':'NL','FI':'FI','GB':'GB','CN':'HK','TW':'HK','AU':'SG','CA':'US','FR':'DE','IT':'DE','ES':'DE','CH':'DE','AT':'DE','BE':'NL','DK':'SE','NO':'SE','IE':'GB'};if(g[f])return g[f];}return'HK';}catch(h){return'HK';}}function getNearbyRegions(e){const f={'US':['SG','JP','HK','KR'],'SG':['JP','HK','KR','US'],'JP':['SG','HK','KR','US'],'HK':['SG','JP','KR','US'],'KR':['JP','HK','SG','US'],'DE':['NL','GB','SE','FI'],'SE':['DE','NL','FI','GB'],'NL':['DE','GB','SE','FI'],'FI':['SE','DE','NL','GB'],'GB':['DE','NL','SE','FI']};return f[e]||[];}function getAllRegionsByPriority(e){const G=E,f=getNearbyRegions(e),g=['US','SG','JP','HK','KR','DE','SE','NL','FI','GB'];return[e,...f,...g['filter'](h=>h!==e&&!f[G(0x146)](h))];}function getSmartRegionSelection(e,f){const H=E;if(!enableRegionMatching||!e)return f;const g=getAllRegionsByPriority(e),h=[];for(const i of g){const j=f[H(0x168)](k=>k['regionCode']===i);h[H(0x16b)](...j);}return h;}async function getBestBackupIP(e=''){const I=E;if(backupIPs[I(0x13b)]===0x0)return null;const f=backupIPs[I(0x139)](g=>({...g,'available':!![]}));if(enableRegionMatching&&e){const g=getSmartRegionSelection(e,f);if(g[I(0x13b)]>0x0)return g[0x0];}return f[0x0];}function d(a,b){const e=c();return d=function(f,g){f=f-0x11a;let h=e[f];if(d['jyuOhc']===undefined){var i=function(m){const n='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let o='',p='',q=o+i;for(let r=0x0,s,t,u=0x0;t=m['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?o+=q['charCodeAt'](u+0xa)-0xa!==0x0?String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):r:0x0){t=n['indexOf'](t);}for(let v=0x0,w=o['length'];v<w;v++){p+='%'+('00'+o['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(p);};d['AIClMe']=i,a=arguments,d['jyuOhc']=!![];}const j=e[0x0],k=f+j,l=a[k];if(!l){const m=function(n){this['eAPMWa']=n,this['cxYbDh']=[0x1,0x0,0x0],this['wVlXrK']=function(){return'newState';},this['tUXOeB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['eHkeDZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};m['prototype']['VrKtFl']=function(){const n=new RegExp(this['tUXOeB']+this['eHkeDZ']),o=n['test'](this['wVlXrK']['toString']())?--this['cxYbDh'][0x1]:--this['cxYbDh'][0x0];return this['upSslO'](o);},m['prototype']['upSslO']=function(n){if(!Boolean(~n))return n;return this['kxQsmX'](this['eAPMWa']);},m['prototype']['kxQsmX']=function(n){for(let o=0x0,p=this['cxYbDh']['length'];o<p;o++){this['cxYbDh']['push'](Math['round'](Math['random']())),p=this['cxYbDh']['length'];}return n(this['cxYbDh'][0x0]);},new m(d)['VrKtFl'](),h=d['AIClMe'](h),a[k]=h;}else h=l;return h;},d(a,b);}export default{async 'fetch'(e,f,g){const J=E;try{const h=new URL(e[J(0x154)]);manualWorkerRegion&&manualWorkerRegion[J(0x179)]()?currentWorkerRegion=manualWorkerRegion[J(0x179)]()[J(0x158)]():currentWorkerRegion=await detectWorkerRegion(e);let i=fallbackAddress,j=fallbackPort;if(!i&&currentWorkerRegion){const k=await getBestBackupIP(currentWorkerRegion);k&&(i=k[J(0x186)],j=k[J(0x17d)][J(0x194)]());}if(e[J(0x193)][J(0x195)](J(0x18d))==='websocket')return await handleWsRequest(e,i,j);else{if(e['method']==='GET'){if(h['pathname']==='/'){const l='<!DOCTYPE\x20html><html\x20lang=\x22zh-CN\x22><head><meta\x20charset=\x22UTF-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22><title>可以了</title><style>body{font-family:-apple-system,BlinkMacSystemFont,\x27Segoe\x20UI\x27,Roboto,Helvetica,Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#121212;color:#e0e0e0;text-align:center;}.container{padding:2rem;border-radius:8px;background-color:#1e1e1e;box-shadow:0\x204px\x206px\x20rgba(0,0,0,0.1);}h1{color:#4caf50;}</style></head><body><div\x20class=\x22container\x22><h1>✅\x20可以了</h1><p>ww.x-aniu.com</p></div></body></html>';return new Response(l,{'status':0xc8,'headers':{'Content-Type':J(0x123)}});}if(customPath&&customPath[J(0x179)]()){const m=customPath['trim']()[J(0x133)]('/')?customPath['trim']():'/'+customPath[J(0x179)](),n=m[J(0x18f)]('/')&&m[J(0x13b)]>0x1?m[J(0x142)](0x0,-0x1):m,o=h['pathname'][J(0x18f)]('/')&&h[J(0x171)][J(0x13b)]>0x1?h[J(0x171)][J(0x142)](0x0,-0x1):h[J(0x171)];if(o===n)return await handleSubscriptionPage(e,authToken);if(o===n+J(0x148))return await handleSubscriptionRequest(e,authToken,h);if(h['pathname'][J(0x13b)]>0x1&&h[J(0x171)]!=='/'){const p=h['pathname']['replace'](/\/$/,'')['replace']('/sub','')[J(0x196)](0x1);if(isValidFormat(p))return new Response(JSON[J(0x175)]({'error':J(0x167),'message':J(0x159)}),{'status':0x193,'headers':{'Content-Type':'application/json;\x20charset=utf-8'}});}}else{if(h['pathname'][J(0x13b)]>0x1&&h[J(0x171)]!=='/'&&!h[J(0x171)]['includes'](J(0x148))){const q=h[J(0x171)][J(0x18c)](/\/$/,'')['substring'](0x1);if(isValidFormat(q))return q===authToken?await handleSubscriptionPage(e,q):new Response(J(0x160),{'status':0x193});}if(h['pathname'][J(0x146)]('/sub')){const r=h[J(0x171)]['split']('/');if(r['length']===0x2&&r[0x1]===J(0x176)){const s=r[0x0][J(0x196)](0x1);if(isValidFormat(s))return s===authToken?await handleSubscriptionRequest(e,s,h):new Response(J(0x160),{'status':0x193});}}if(h['pathname'][J(0x144)]()[J(0x146)]('/'+authToken))return await handleSubscriptionRequest(e,authToken);}}}return new Response(J(0x173),{'status':0x194});}catch(t){return new Response(t['toString'](),{'status':0x1f4});}}};async function handleSubscriptionPage(e,f=null){const K=E;if(!f)f=authToken;const g=K(0x11c)+apiBaseUrl+K(0x16f);return new Response(g,{'status':0xc8,'headers':{'Content-Type':K(0x123)}});}function c(){const aa=['mti2ndm4nuDhBxjrzq','y29UC3rYDwn0B3i','AgvHzgvYCW','Dg9tDhjPBMC','z2v0','C3vIC3rYAw5N','Dgv4Dc9WBgfPBJSGy2HHCNnLDd11DgyToa','yMvZDgnMlNrVCa','uMvHzgfIBguGywjVCNrLzdO','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','z2v0v3jPDgvY','kcGOlISPkYKRksSK','CMvSzwfZzuXVy2S','yxjYyxLcDwzMzxi','y2zPCc5JzMnKBI52Axa','nJq0odG5vwTVALjQ','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','y2XVDwrMBgfYzs4Xodi2odiUEhL6','mZeXnfH6y3LIvW','DgvZDa','y2yUmhnTlMnVBq','Eg4Tlwi2z2fJlMv1lM9YzW','y2yUEMHLDgvUz3nOys5LDs5VCMC','zJmWntGXnZfJywqUmdaYnda0lNH5EG','y25HBwvMDwnREhHZlNL1y2HLBI5Py3u','zxjYB3i','BMfTzq','wM1gCgjdqJbIEuj2y0DwDuLitNzzmNr6suDoDMjTnwXzm1jWyJi0pq','AM9PBG','Ahr0Chm6lY91CMWUDJeUBwSVC3vI','mtbpAuzNB3O','D3jPDgu','C3rHCNrZv2L0Aa','Bg9N','zNjLzxL4lMnSB3vKzMXHCMu4oc5LDs5VCMC','yM04z1LxtMPAweiWwvDkC1PtqNrAwfjVyJjsEG','C2vUza','D3jPDgfIBgu','BwfW','y2XVDwrMBgfYzs1PCc5TB2zHC2HPlMX0za','BgvUz3rO','oc44odKYodGUEhL6','Ahr0Chm6lY9YyxCUz2L0AhvIDxnLCMnVBNrLBNqUy29Tl3f3zxiTC2vHCMnOl2jLC3rPCc9YzwzZl2HLywrZl21HAw4VA2vQAwXHBMrIzxn0AxaUDhH0','y2rUlNr6ChjVlNH5EG','ndiWDhLRz0jz','zti1odK3n2iTztqXmY00nZe4lweZywyTmdjKnZu0otjJmZq5','DMfSDwvZ','C2XPy2u','5OMa5PYj6iQc54k56i635y+w5AsX6lsL','Dg9mB3DLCKnHC2u','y2yUmdKWmJi3lNH5EG','Aw5JBhvKzxm','zgvJB2rL','l3n1yG','CgLWzvrV','5y6F55sF5zYW5z2a','yNL0zuXLBMD0Aa','CMfUzg9TAxPLza','mte1mtu1lNH5EG','mJuZoti2q094ru9W','zNjVBq','ywrKrxzLBNrmAxn0zw5LCG','nMnWCMjZwq','re5tigzVCNDHCMqGzxjYB3i6ia','vtnsEwfxnw5Hv1PWwLDrz2fxuMXIBLjWwM1SBgnPqNbJEujWyM5AAgjhBgS','DxjS','y2zPCc4XmZiZmtiZlNH5EG','BM9Uzq','lvDtlvrmuW','Dg9vChbLCKnHC2u','5B2t5yMnifDVCMTLCIdLT7lLKk/NLkJOH6RLRPRKUyNOT6/LVOtMQkhLVi/VViXvvuLeioIUV+MxRUw3SUEMGEEuQa','sw5PDgLHBcbJB25Uzwn0Aw9UigzHAwXLzcWGDhj5Aw5NigzHBgXIywnRoG','ntK2Cxftr09H','DMXLC3m','y291BNrYEq','y2f0y2G','y2XVC2u','vvvjroMuMEIVRW','yvC1mLLxEhbAq0jRwvHsAa','y2rUlJiWmJaXmteUEhL6','zdjwAvuYowPHmLyWtg1wAfPiBfrKr0yWwLncCgn5qNvIm1fNyJncBgjNpt0','mty1nZy4AMHVwwPr','yNvMzMvY','CMvHzhLtDgf0zq','6k6/6zEU6kkR5OUs57UD','zMLSDgvY','y2XVDwrMBgfYzs45ANKUy2m','C29JA2v0','ChvZAa','u3rYzwfTignVBM5Ly3rPB24GzxjYB3i6','ota4s2DmDMTg','Dgv4Da','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','oc44lJqUna','Cgf0Ag5HBwu','mteXndyZzefMt2T0','tM90iezVDw5K','Bwf0y2G','C3rYAw5NAwz5','C3vI','BM8TC3rVCMuSig5VlwnHy2HLlcbTDxn0lxjLDMfSAwrHDguSig1HEc1Hz2u9ma','vLvsuuLiqNLIm2G1suC5DwjiA2DAvZvOww14BeLhwNzJAujfvgXnz2qYAhbzmMDNyvHnz2nhoxLKq0eXtxC9pq','DhjPBq','y2yUEMvYB25LlwnKBI5WCc51yq','y25HBwuUEgLYyw5Jzg4UDxm','DgXZ','Cg9YDa','C3bLzwqUBwfYAxnHBg5JlMnVBq','mZbPq1fkEuS','C3bSAxq','DhCUEdK1mJCUEhL6','BwvZC2fNzq','yZi5AMeZtwDJmLz5zg1wEuLhnwXAv1j6suDgmwrhzZ0','z2v0vwLUDde2','ywnJzxb0','zg9TywLU','y2yUodC3nZCXlNH5EG','oI8V','C2vHCMnO','Ag9ZDg5HBwu','y2XVC2vK','CMvWBgfJzq','vxbNCMfKzq','zMLUywXSEq','zw5KC1DPDgG','yvC1mLLxEhbAq0jOwKDsEvPytNPwsgX3wLe9pq'];c=function(){return aa;};return c();}async function handleSubscriptionRequest(e,f,g=null){const L=E;if(!g)g=new URL(e[L(0x154)]);const h=[],i=g[L(0x18a)],j=[{'ip':i,'isp':L(0x14a)}];h[L(0x16b)](...generateLinksFromSource(j,f,i));if(enableOtherPreferred){const l=directDomains[L(0x139)](m=>({'ip':m[L(0x186)],'isp':m['name']||m['domain']}));h[L(0x16b)](...generateLinksFromSource(l,f,i));}if(enableGitHubPreferred){const m=await fetchAndParseNewIPs();m[L(0x13b)]>0x0&&h[L(0x16b)](...generateLinksFromNewIPs(m,f,i));}if(h[L(0x13b)]===0x0){const n=L(0x143),o='vless://00000000-0000-0000-0000-000000000000@127.0.0.1:80?encryption=none&security=none&type=ws&host=error.com&path=%2F#'+encodeURIComponent(n);h[L(0x16b)](o);}const k=btoa(h['join']('\x0a'));return new Response(k,{'headers':{'Content-Type':L(0x197),'Cache-Control':L(0x177)}});}function generateLinksFromSource(e,f,g){const h=[0x1bb],i=[],j='/?ed=2048',k='vless';return e['forEach'](l=>{const M=d,m=l['isp'][M(0x18c)](/\s/g,'_'),n=l['ip']['includes'](':')?'['+l['ip']+']':l['ip'];h['forEach'](o=>{const N=M,p=m+'-'+o+N(0x157),q=new URLSearchParams({'encryption':N(0x156),'security':N(0x17c),'sni':g,'fp':N(0x14c),'type':'ws','host':g,'path':j});i[N(0x16b)](k+N(0x188)+f+'@'+n+':'+o+'?'+q[N(0x194)]()+'#'+encodeURIComponent(p));});}),i;}async function fetchAndParseNewIPs(){const O=E,e=githubPreferredURL;try{const f=await fetch(e);if(!f['ok'])return[];const g=await f[O(0x16e)](),h=[],i=g[O(0x179)]()['replace'](/\r/g,'')[O(0x180)]('\x0a'),j=/^([^:]+):(\d+)#(.*)$/;for(const k of i){const l=k[O(0x179)]();if(!l)continue;const m=l[O(0x174)](j);m&&h[O(0x16b)]({'ip':m[0x1],'port':parseInt(m[0x2],0xa),'name':m[0x3][O(0x179)]()||m[0x1]});}return h;}catch(n){return[];}}function generateLinksFromNewIPs(e,f,g){const P=E,h=[],i='/?ed=2048',j=P(0x15c);return e['forEach'](k=>{const Q=P,l=k[Q(0x12d)],m=k['ip']['includes'](':')?'['+k['ip']+']':k['ip'],n={'encryption':Q(0x156),'security':Q(0x17c),'sni':g,'fp':Q(0x14c),'type':'ws','host':g,'path':i},o=new URLSearchParams(n);h[Q(0x16b)](j+Q(0x188)+f+'@'+m+':'+k['port']+'?'+o[Q(0x194)]()+'#'+encodeURIComponent(l));}),h;}async function handleWsRequest(e,f=null,g=null){const R=E,h=new WebSocketPair(),[i,j]=Object[R(0x141)](h);j[R(0x185)]();let k={'socket':null},l=![];const m=f||fallbackAddress,n=g||fallbackPort,o=e[R(0x193)]['get']('sec-websocket-protocol')||'',p=makeReadableStream(j,o);return p['pipeTo'](new WritableStream({async 'write'(q){const S=R;if(l)return await forwardUDP(q,j,null);if(k[S(0x16a)]){const B=k[S(0x16a)][S(0x138)][S(0x11d)]();await B[S(0x132)](q),B[S(0x11f)]();return;}const {hasError:r,message:s,addressType:t,port:u,hostname:v,rawIndex:w,version:x,isUDP:y}=parseWsPacketHeader(q,authToken);if(r)throw new Error(s);if(y){if(u===0x35)l=!![];else throw new Error(E_UDP_DNS_ONLY);}const z=new Uint8Array([x[0x0],0x0]),A=q[S(0x142)](w);if(l)return forwardUDP(A,j,z);await forwardTCP(t,v,u,A,j,z,k,m,n);}}))[R(0x15e)](q=>{const T=R;console[T(0x134)]('WS\x20Stream\x20Error:',q);}),new Response(null,{'status':0x65,'webSocket':i});}async function forwardTCP(e,f,g,h,i,j,k,l=null,m=null){const W=E,n=l||fallbackAddress,o=m||fallbackPort;async function p(r,s){const U=d,t=connect({'hostname':r,'port':s}),u=t[U(0x138)][U(0x11d)]();return await u[U(0x132)](h),u['releaseLock'](),t;}async function q(){const V=d,r=await p(n||f,parseInt(o,0xa)||g);k['socket']=r,r[V(0x18b)]['catch'](()=>{})[V(0x18e)](()=>closeSocketQuietly(i)),connectStreams(r,i,j,null);}try{const r=await p(f,g);k[W(0x16a)]=r,connectStreams(r,i,j,q);}catch(s){console[W(0x134)](W(0x15a),s),q();}}function parseWsPacketHeader(e,f){const X=E;if(e[X(0x14b)]<0x18)return{'hasError':!![],'message':E_INVALID_DATA};const g=new Uint8Array(e[X(0x142)](0x0,0x1));if(formatIdentifier(new Uint8Array(e[X(0x142)](0x1,0x11)))!==f)return{'hasError':!![],'message':E_INVALID_USER};const h=new Uint8Array(e['slice'](0x11,0x12))[0x0],j=new Uint8Array(e[X(0x142)](0x12+h,0x13+h))[0x0];let k=![];if(j===0x1){}else{if(j===0x2)k=!![];else return{'hasError':!![],'message':E_UNSUPPORTED_CMD};}const l=0x13+h,m=new DataView(e[X(0x142)](l,l+0x2))[X(0x184)](0x0);let n=l+0x2,o=0x0,p=n+0x1,q='';const r=new Uint8Array(e['slice'](n,p))[0x0];switch(r){case ADDRESS_TYPE_IPV4:o=0x4,q=new Uint8Array(e[X(0x142)](p,p+o))[X(0x12f)]('.');break;case ADDRESS_TYPE_URL:o=new Uint8Array(e[X(0x142)](p,p+0x1))[0x0],p+=0x1,q=new TextDecoder()[X(0x147)](e['slice'](p,p+o));break;case ADDRESS_TYPE_IPV6:o=0x10;const s=[],t=new DataView(e[X(0x142)](p,p+o));for(let u=0x0;u<0x8;u++)s['push'](t[X(0x184)](u*0x2)[X(0x194)](0x10));q=s[X(0x12f)](':');break;default:return{'hasError':!![],'message':E_INVALID_ADDR_TYPE+':\x20'+r};}if(!q)return{'hasError':!![],'message':E_EMPTY_ADDR+':\x20'+r};return{'hasError':![],'addressType':r,'port':m,'hostname':q,'isUDP':k,'rawIndex':p+o,'version':g};}function makeReadableStream(e,f){let g=![];return new ReadableStream({'start'(h){const Y=d;e[Y(0x150)](Y(0x182),k=>{if(!g)h['enqueue'](k['data']);}),e[Y(0x150)](Y(0x15f),()=>{const Z=Y;!g&&(closeSocketQuietly(e),h[Z(0x15f)]());}),e[Y(0x150)](Y(0x12c),k=>h[Y(0x12c)](k));const {earlyData:i,error:j}=base64ToArray(f);if(j)h[Y(0x12c)](j);else{if(i)h['enqueue'](i);}},'cancel'(){g=!![],closeSocketQuietly(e);}});}async function connectStreams(e,f,g,h){const a0=E;let i=g,j=![];await e['readable'][a0(0x149)](new WritableStream({async 'write'(k,l){const a1=a0;j=!![];if(f['readyState']!==0x1)l['error'](E_WS_NOT_OPEN);i?(f[a1(0x137)](await new Blob([i,k])[a1(0x120)]()),i=null):f[a1(0x137)](k);},'abort'(k){const a2=a0;console[a2(0x12c)](a2(0x11b),k);}}))[a0(0x15e)](k=>{const a3=a0;console[a3(0x12c)](a3(0x16c),k),closeSocketQuietly(f);});if(!j&&h)h();}async function forwardUDP(e,f,g){const a4=E;try{const h=connect({'hostname':a4(0x170),'port':0x35});let i=g;const j=h[a4(0x138)][a4(0x11d)]();await j[a4(0x132)](e),j[a4(0x11f)](),await h['readable'][a4(0x149)](new WritableStream({async 'write'(k){const a5=a4;f[a5(0x166)]===0x1&&(i?(f[a5(0x137)](await new Blob([i,k])['arrayBuffer']()),i=null):f[a5(0x137)](k));}}));}catch(k){console[a4(0x12c)](a4(0x152)+k[a4(0x182)]);}}function base64ToArray(e){const a6=E;if(!e)return{'error':null};try{return e=e[a6(0x18c)](/-/g,'+')['replace'](/_/g,'/'),{'earlyData':Uint8Array[a6(0x14f)](atob(e),f=>f['charCodeAt'](0x0))[a6(0x165)],'error':null};}catch(f){return{'error':f};}}function isValidFormat(e){const a7=E;return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i[a7(0x126)](e);}function closeSocketQuietly(e){const a8=E;try{if(e[a8(0x166)]===0x1||e[a8(0x166)]===0x2)e[a8(0x15f)]();}catch(f){}}const hexTable=Array[E(0x14f)]({'length':0x100},(e,f)=>(f+0x100)[E(0x194)](0x10)[E(0x142)](0x1));function formatIdentifier(e,f=0x0){const a9=E,g=(hexTable[e[f]]+hexTable[e[f+0x1]]+hexTable[e[f+0x2]]+hexTable[e[f+0x3]]+'-'+hexTable[e[f+0x4]]+hexTable[e[f+0x5]]+'-'+hexTable[e[f+0x6]]+hexTable[e[f+0x7]]+'-'+hexTable[e[f+0x8]]+hexTable[e[f+0x9]]+'-'+hexTable[e[f+0xa]]+hexTable[e[f+0xb]]+hexTable[e[f+0xc]]+hexTable[e[f+0xd]]+hexTable[e[f+0xe]]+hexTable[e[f+0xf]])[a9(0x144)]();if(!isValidFormat(g))throw new TypeError(E_INVALID_ID_STR);return g;}